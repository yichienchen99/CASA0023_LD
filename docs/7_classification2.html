<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>CASA0023 Learning Diary - 7&nbsp; Classification 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./8_temperature.html" rel="next">
<link href="./6_classification.html" rel="prev">
<link href="./image/favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/casa_logo.jpg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">CASA0023 Learning Diary</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/yichienchen99/CASA0023_LD"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Classification 2</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">Content</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1_intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_portfolio.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Sensor-WorldView3</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3_corrections.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Corrections</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4_policy.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Policy</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5_GEE.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Google Earth Engine</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6_classification.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Classification 1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./7_classification2.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Classification 2</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./8_temperature.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Temperature</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Summary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dictionary.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Dictionary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary"><span class="toc-section-number">7.1</span>  Summary</a>
  <ul class="collapse">
  <li><a href="#obia" id="toc-obia" class="nav-link" data-scroll-target="#obia"><span class="toc-section-number">7.1.1</span>  OBIA</a></li>
  <li><a href="#sub-pixel" id="toc-sub-pixel" class="nav-link" data-scroll-target="#sub-pixel"><span class="toc-section-number">7.1.2</span>  Sub-pixel</a></li>
  <li><a href="#accuracy-assessment" id="toc-accuracy-assessment" class="nav-link" data-scroll-target="#accuracy-assessment"><span class="toc-section-number">7.1.3</span>  Accuracy Assessment</a></li>
  <li><a href="#question" id="toc-question" class="nav-link" data-scroll-target="#question"><span class="toc-section-number">7.1.4</span>  Question</a></li>
  </ul></li>
  <li><a href="#application" id="toc-application" class="nav-link" data-scroll-target="#application"><span class="toc-section-number">7.2</span>  Application</a>
  <ul class="collapse">
  <li><a href="#dynamic-world" id="toc-dynamic-world" class="nav-link" data-scroll-target="#dynamic-world"><span class="toc-section-number">7.2.1</span>  Dynamic world</a></li>
  <li><a href="#google-open-building-data" id="toc-google-open-building-data" class="nav-link" data-scroll-target="#google-open-building-data"><span class="toc-section-number">7.2.2</span>  Google open building data</a></li>
  </ul></li>
  <li><a href="#reflection" id="toc-reflection" class="nav-link" data-scroll-target="#reflection"><span class="toc-section-number">7.3</span>  Reflection</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/yichienchen99/CASA0023_LD/edit/main/7_classification2.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/yichienchen99/CASA0023_LD/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Classification 2</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="summary" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="summary"><span class="header-section-number">7.1</span> Summary</h2>
<p>This week lecture continues to explain and evaluate other classification methods (object-based and sub-pixel) and accuracy assessment of classification outcomes. Two pre-classified models are discussed in the application section.</p>
<section id="obia" class="level3" data-number="7.1.1">
<h3 data-number="7.1.1" class="anchored" data-anchor-id="obia"><span class="header-section-number">7.1.1</span> OBIA</h3>
<p>Critique on pixel-based classification: <strong>Spatial autocorrelation</strong> (test/train) may influence the outcome of accuracy assessment (Tobler 1<sup>st</sup> Law). If not consider SA – model would be too good / high accuracy. SA could be solved by:</p>
<ol type="1">
<li><p>applying <a href="https://developers.google.com/earth-engine/guides/classification">distance filter</a>/metrics or Moran’s I to the test / train data</p></li>
<li><p>or classify the image through <strong>Object-based image analysis (OBIA)</strong>.</p></li>
</ol>
<p>Two <strong>parameters</strong> for OBIA:</p>
<ol type="1">
<li><p>Distance (between centroids/seeds)</p></li>
<li><p>Homogeneity/similarity of pixels around the centroids</p></li>
</ol>
<p>The output would be features of the objects (e.g.&nbsp;mean of the pixel values) that look like art rather than imagery. OBIA is originally applied in medical and surgery (e.g.&nbsp;cancer detection).</p>
</section>
<section id="sub-pixel" class="level3" data-number="7.1.2">
<h3 data-number="7.1.2" class="anchored" data-anchor-id="sub-pixel"><span class="header-section-number">7.1.2</span> Sub-pixel</h3>
<p>Fraction of selected features per pixel &gt; spectrally pure end-members</p>
<p>Cons: difficult to assess accuracy (no test/train split) &gt; harden</p>
<p><strong>Applications</strong> on pollution detection and % of vegetation</p>
<ul>
<li><p>spectrally pure ENDMEMBER selection: library (), lab, points/polygon (one point), value specification</p></li>
<li><p>end-member * fraction &gt;&gt; unconstrained &gt;&gt; constrained (sum to one)</p></li>
<li><p>if multiple points = MESMA</p></li>
</ul>
</section>
<section id="accuracy-assessment" class="level3" data-number="7.1.3">
<h3 data-number="7.1.3" class="anchored" data-anchor-id="accuracy-assessment"><span class="header-section-number">7.1.3</span> Accuracy Assessment</h3>
<p>Random sampling &gt; test/train &gt; model output &gt; test output &gt; matrix</p>
<p><strong>PA (producer accuracy)</strong>: <span class="math inline">\(\frac{TP}{TP+FN}\)</span> == recall / sensitivity (correctly classified pixel vs.&nbsp;ground truth data)</p>
<ul>
<li>High PA: Low FN and High FP: e.g.&nbsp;predicted urban but actually other land cover type</li>
</ul>
<!-- -->
<ul>
<li>Error of omission = 100-PA</li>
</ul>
<p><strong>UA (user accuracy)</strong>: <span class="math inline">\(\frac{TP}{TP+FP}\)</span> == precision (correctly classified pixel vs.&nbsp;same class pixels as classified)</p>
<ul>
<li>High UA: High FN and Low FP: e.g.&nbsp;predicted other but actually urban</li>
</ul>
<!-- -->
<ul>
<li>Error of commission = 100-UA</li>
</ul>
<p><strong>OA (overall accuracy)</strong>: (TP+FP+FN+TN)</p>
<div class="callout-important callout callout-style-simple">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>PA and UA never both good: model with Low FN and Low FP does not exist. Since data is not balanced, changes in <strong>decision threshold</strong> of classification may vary the outcomes. Increasing FP (more predicted positive) &gt; UA worsens &gt; FN reduces &gt; PA improves. The matrix are related and may change together. The trade-offs between the two make the ideal situation with high PA and high UA impossible.</p>
<p>Hence, one of them would be more important than the other under different scenarios and the one with higher relevance to the problem should be picked when analyzing accuracy and designing the model <span class="citation" data-cites="wilber">(<a href="references.html#ref-wilber" role="doc-biblioref">Wilber, n.d.</a>)</span>:</p>
<ul>
<li><p>Recall/PA is important when we believe False Negatives are more important than False Positives (e.g.&nbsp;our problem of cancer detection).</p></li>
<li><p>Precision/UA is important when we believe False Positives are more important than False Negatives (e.g.&nbsp;spam detection).</p></li>
</ul>
</div>
</div>
</div>
<section id="f1-score" class="level4" data-number="7.1.3.1">
<h4 data-number="7.1.3.1" class="anchored" data-anchor-id="f1-score"><span class="header-section-number">7.1.3.1</span> F1 score</h4>
<dl>
<dt>F1 score</dt>
<dd>
<p>To solve the issue above with decision threshold, F1 score includes the information of both PA and UA in one single coefficient. <span class="math inline">\(\frac{TP}{TP+\frac{1}{2}∗(FP+FN)}\)</span></p>
</dd>
</dl>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/accuracy_tradeoff.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">(Wilber, 2022)</figcaption><p></p>
</figure>
</div>
<p>When PA and UA are similarly well-performed, the F1 and Accuracy are also highest.</p>
<p>Critiques on F1 score:</p>
<ul>
<li><p>Not considering TN</p></li>
<li><p>Assuming UA and PA equally important</p></li>
</ul>
<blockquote class="blockquote">
<p>Other matrix to assess accuracy: calibration, popular diagnostic tools (specificity, likelihood ratios, etc.), expectation frameworks, Receiver Operating Characteristic Curve (ROC), Area Under the Receiver Operator Characteristic Curve (AUROC) (popular for binomial model).</p>
</blockquote>
</section>
<section id="kappa" class="level4" data-number="7.1.3.2">
<h4 data-number="7.1.3.2" class="anchored" data-anchor-id="kappa"><span class="header-section-number">7.1.3.2</span> Kappa</h4>
<dl>
<dt>Kappa coefficient</dt>
<dd>
<p>The accuracy of an image compared to the results by chance<span class="math inline">\(k=\frac{p_o−p_e}{1−p_e}\)</span></p>
<p><span class="math inline">\(p_o\)</span>: the proportion of cases correctly classified (accuracy)</p>
<p><span class="math inline">\(p_e\)</span>: expected cases correctly classified by chance</p>
</dd>
</dl>
<p>Critiques on Kappa coefficient:</p>
<ul>
<li><p>different definitions by authors in terms of good Kappa</p></li>
<li><p>different accuracy can have different ranges of kappa</p></li>
</ul>
</section>
<section id="cross-validation" class="level4" data-number="7.1.3.3">
<h4 data-number="7.1.3.3" class="anchored" data-anchor-id="cross-validation"><span class="header-section-number">7.1.3.3</span> Cross validation</h4>
<p>Data-splitting: based on simple, stratified, random selection.</p>
<p>Repeated selection (resampling by bootstrapping): to compute the sampling variability of the accuracy metric (changing the split) <span class="citation" data-cites="karasiak2022">(<a href="references.html#ref-karasiak2022" role="doc-biblioref">Karasiak et al. 2022</a>)</span></p>
<p>Find the average of different scenarios to test how generalisable the model is</p>
<p>Critique on averaging accuracy:</p>
<ul>
<li>Randomly distributed points for testing may have spatial autocorrelation with nearby training data &gt; influencing overestimating the accuracy / overfitting the model.</li>
</ul>
<p><strong>Spatial cross validation</strong></p>
<p>To mitigate issue with Spatial autocorrelation in Cross validation, randomly distributed clusters of points (clustering through Moran’s I, DBSCAN, Distance metrics..) are selected for testing <span class="citation" data-cites="lovelace2019">(<a href="references.html#ref-lovelace2019" role="doc-biblioref">Lovelace, Nowosad, and Muenchow 2019</a>)</span>.</p>
<ul>
<li>reference data are also split into subsets like in cross validation but the number of subsets can vary (<em>k</em>-fold) <span class="citation" data-cites="karasiak2022">(<a href="references.html#ref-karasiak2022" role="doc-biblioref">Karasiak et al. 2022</a>)</span>.</li>
</ul>
<!-- -->
<ul>
<li>k-fold &gt; random sample &gt; &gt; best values of C and gamma for SVM &gt; fold &gt;&gt; ML3 IN R &gt; GEE not good at data analysis but for remote sensing data</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/SCV.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">(Lovelace et al., 2019)</figcaption><p></p>
</figure>
</div>
<div class="callout-tip callout callout-style-simple">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>mlr3 to split data for spatial CV:</p>
<p>3 stages: 1) <strong>task</strong>: data specification (including response and predictor variables) and the model type (such as regression or classification). 2) <strong>learner</strong> defines the specific learning algorithm that is applied to the created task. 3) <strong>resampling</strong> approach assesses the predictive performance of the model, i.e., its ability to generalize to new data.</p>
<p>Detailed example see <span class="citation" data-cites="lovelace2019">(<a href="references.html#ref-lovelace2019" role="doc-biblioref">Lovelace, Nowosad, and Muenchow 2019</a>)</span>.</p>
</div>
</div>
</div>
<p><strong>Leave one out</strong> (for everything except one point) – more extreme / computationally extensive</p>
<div class="callout-important callout callout-style-simple">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>Selecting data for training / testing / accuracy:</p>
<p>&gt;&gt; reproducible (same model for different years data) == (choose land that not change to much – &nbsp;pseudo-invariant features) / (manual selection of ROI) / (choose same parcel/feature from different years = generalizable) == no fixed rules</p>
</div>
</div>
</div>
</section>
</section>
<section id="question" class="level3" data-number="7.1.4">
<h3 data-number="7.1.4" class="anchored" data-anchor-id="question"><span class="header-section-number">7.1.4</span> Question</h3>
<ol type="1">
<li>What’s the neighborhood size (shouldn’t it be 100 if its 2*seed size)? When calculating std, why max size should be the same as NS?</li>
</ol>
</section>
</section>
<section id="application" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="application"><span class="header-section-number">7.2</span> Application</h2>
<p>Below are some examples of pre-classified data that could be imported in GEE.</p>
<section id="dynamic-world" class="level3" data-number="7.2.1">
<h3 data-number="7.2.1" class="anchored" data-anchor-id="dynamic-world"><span class="header-section-number">7.2.1</span> Dynamic world</h3>
<ul>
<li><p><a href="https://developers.google.com/earth-engine/datasets/catalog/GOOGLE_DYNAMICWORLD_V1">GEE data catalog</a></p></li>
<li><p>Near real time data at 10m resolution (Sentinel-2 with 2-5 days revisit)</p></li>
<li><p>Process: World / region / biomes &gt; experts / non-experts to label training pixels (5x5) &gt; pre-processing (&gt; TOA &gt; rotate &gt; band math/ratioing) &gt; normalisation (log) &gt; classification (CNN)</p></li>
<li><p>Critique: Blobbing – since ppl/users train data + CNN (deep learning, moving window of filtering..)</p></li>
<li><p>Weird: worse the resolution of sentinel</p></li>
<li><p>Accuracy (confusion matrix, but…)</p></li>
</ul>
</section>
<section id="google-open-building-data" class="level3" data-number="7.2.2">
<h3 data-number="7.2.2" class="anchored" data-anchor-id="google-open-building-data"><span class="header-section-number">7.2.2</span> <a href="https://sites.research.google/open-buildings/">Google open building data</a></h3>
<ul>
<li><p><a href="https://developers.google.com/earth-engine/datasets/catalog/GOOGLE_Research_open-buildings_v2_polygons">GEE data catalog</a></p></li>
<li><p>50cm high-resolution</p></li>
<li><p>Currently constrains to Africa, South Asia and South-East Asia locations</p></li>
<li><p>Include building info like outlines, footprints on the ground, confidence score (on if this is a building / accuracy), the centroid of the building. (not having info like building typology, address, and other details beyond geometry.)</p></li>
</ul>
<section id="application-1" class="level4" data-number="7.2.2.1">
<h4 data-number="7.2.2.1" class="anchored" data-anchor-id="application-1"><span class="header-section-number">7.2.2.1</span> Application</h4>
<p>Thoughts on applications suggested by developers:</p>
<ul>
<li><p><u>Population mapping</u>: largely related to the population estimates based on building block. Estimating population based on building outline seems less convincing as the building height data is not assessed. This could be solved by combining the method of detecting building shades from satellite imagery and sample building height annotations with longitude, latitude, and elevation from the ICESat-2, ATL03 photons <span class="citation" data-cites="zhao2023">(<a href="references.html#ref-zhao2023" role="doc-biblioref">Zhao et al. 2023</a>)</span>. Hence, a 3D building data can be used to estimate population more accurately. However, the population density per building may vary spatially and over time, influenced by the building functions. Offices for instance should be omitted during prediction. The detailed land use type per building may be beyond the scope of remote sensing data. That said, population estimation for informal settlements can be valuable, which is not included in the census data.</p></li>
<li><p><u>Humanitarian response</u>: the location and density of settlements could be used to evaluate the risk zones and potential loss due to natural disasters, integrated with deep learning from data like past disaster events, social media, and weather reports to forecast the affected areas and consolidate early-warning system. Te detailed methods may subject to the types of disasters (flooding/earthquake/landslide/volcanic eruptions..). Corresponding interventions (e.g.&nbsp;relocation of hospitals and residence within the risk zones) in relation to the local demographics of vulnerable groups can be integrated to reduce risks, complying to the <a href="https://www.undrr.org/publication/sendai-framework-disaster-risk-reduction-2015-2030#:~:text=The%20Sendai%20Framework%20for%20Disaster,Investing%20in%20disaster%20reduction%20for">Sendai Framework for Disaster Risk reduction 2015-2030</a>. Nevertheless, the LULC classifications may already achieve this goal, albeit without building outline..</p></li>
<li><p><u>Addressing systems &amp; Statistical indicators</u>: the location of buildings can be used to simulate transport demands and routing, hence planning a more robust transport system.</p></li>
</ul>
<p>Other possible uses of the data:</p>
<ul>
<li><u>Planning support</u>: The space between buildings / street width could be useful for analyzing the environmental conditions in urban public realm, guiding regulations on building heights – narrow streets with high buildings should be avoided, increasing wind speed and reducing daylight penetration.</li>
</ul>
</section>
<section id="accuracy" class="level4" data-number="7.2.2.2">
<h4 data-number="7.2.2.2" class="anchored" data-anchor-id="accuracy"><span class="header-section-number">7.2.2.2</span> Accuracy</h4>
<p>The accuracy is enhanced through the novel method using U-Net Model (mixup, self-training, distance weighting with Gaussian convolutions, and residual decoder blocks) <span class="citation" data-cites="sirko">(<a href="references.html#ref-sirko" role="doc-biblioref">Sirko et al., n.d.</a>)</span>. For randomly selected test data (Figure2c), the areas with potential bias are omitted, including those with vast rural land and empty area (<em>.ibid</em>).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/open_data.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">(Sirko et al, 2021)</figcaption><p></p>
</figure>
</div>
<p>U-Net Model originates from biomed image semantic segmentation <span class="citation" data-cites="ronneberger2015 li2021">(<a href="references.html#ref-ronneberger2015" role="doc-biblioref">Ronneberger, Fischer, and Brox 2015</a>; <a href="references.html#ref-li2021" role="doc-biblioref">Li et al. 2021</a>)</span>, having wide range of applications in different fields, outperforming the original sliding-window convolutional network.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/u-net-architecture.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">U-Net Architecture (Ronneberger, Fischer and Brox, 2015)</figcaption><p></p>
</figure>
</div>
<p>The performance of open building data can be accessed from the confidence score. However, there is difference in the performance spatially. Some areas like single building in rural area and dessert terrain can have lower accuracy <span class="citation" data-cites="sirko">(<a href="references.html#ref-sirko" role="doc-biblioref">Sirko et al., n.d.</a>)</span>. In urban areas, large buildings may be split into smaller ones, with most cases seen in Egypt - Cairo (<em>ibid.</em>).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="image/open.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">(Sirko et al, 2021)</figcaption><p></p>
</figure>
</div>
</section>
</section>
</section>
<section id="reflection" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="reflection"><span class="header-section-number">7.3</span> Reflection</h2>


<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography" style="display: none">
<div id="ref-karasiak2022" class="csl-entry" role="doc-biblioentry">
Karasiak, N., J.-F. Dejoux, C. Monteil, and D. Sheeren. 2022. <span>“Spatial Dependence Between Training and Test Sets: Another Pitfall of Classification Accuracy Assessment in Remote Sensing.”</span> <em>Machine Learning</em> 111 (7): 2715–40. <a href="https://doi.org/10.1007/s10994-021-05972-1">https://doi.org/10.1007/s10994-021-05972-1</a>.
</div>
<div id="ref-li2021" class="csl-entry" role="doc-biblioentry">
Li, Meng-Yi, Ding-Ju Zhu, Wen Xu, Yu-Jie Lin, Kai-Leung Yung, and Andrew W. H. Ip. 2021. <span>“Application of U-Net with Global Convolution Network Module in Computer-Aided Tongue Diagnosis.”</span> <em>Journal of Healthcare Engineering</em> 2021 (November): e5853128. <a href="https://doi.org/10.1155/2021/5853128">https://doi.org/10.1155/2021/5853128</a>.
</div>
<div id="ref-lovelace2019" class="csl-entry" role="doc-biblioentry">
Lovelace, Robin, Jakub Nowosad, and Jannes Muenchow. 2019. <em>Chapter 12 Statistical Learning | Geocomputation with R</em>. <a href="https://r.geocompx.org/spatial-cv.html">https://r.geocompx.org/spatial-cv.html</a>.
</div>
<div id="ref-ronneberger2015" class="csl-entry" role="doc-biblioentry">
Ronneberger, Olaf, Philipp Fischer, and Thomas Brox. 2015. <span>“U-Net: Convolutional Networks for Biomedical Image Segmentation.”</span> In, edited by Nassir Navab, Joachim Hornegger, William M. Wells, and Alejandro F. Frangi, 9351:234–41. Cham: Springer International Publishing. <a href="http://link.springer.com/10.1007/978-3-319-24574-4_28">http://link.springer.com/10.1007/978-3-319-24574-4_28</a>.
</div>
<div id="ref-sirko" class="csl-entry" role="doc-biblioentry">
Sirko, Wojciech, Sergii Kashubin, Marvin Ritter, Abigail Annkah, Yasser Salah Eddine Bouchareb, Yann Dauphin, Daniel Keysers, Maxim Neumann, Moustapha Cisse, and John Quinn. n.d. <span>“Continental-Scale Building Detection from High Resolution Satellite Imagery.”</span>
</div>
<div id="ref-wilber" class="csl-entry" role="doc-biblioentry">
Wilber, Jared. n.d. <span>“Precision and Recall.”</span> <a href="https://mlu-explain.github.io/precision-recall/">https://mlu-explain.github.io/precision-recall/</a>.
</div>
<div id="ref-zhao2023" class="csl-entry" role="doc-biblioentry">
Zhao, Yi, Bin Wu, Qiaoxuan Li, Lei Yang, Hongchao Fan, Jianping Wu, and Bailang Yu. 2023. <span>“Combining ICESat-2 Photons and Google Earth Satellite Images for Building Height Extraction.”</span> <em>International Journal of Applied Earth Observation and Geoinformation</em> 117 (March): 103213. <a href="https://doi.org/10.1016/j.jag.2023.103213">https://doi.org/10.1016/j.jag.2023.103213</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./6_classification.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Classification 1</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./8_temperature.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Temperature</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>